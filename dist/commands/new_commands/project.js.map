{"version":3,"sources":["commands/new_commands/project.js"],"names":["handler","path","fs","command","desc","builder","argv","projectRoot","resolve","process","cwd","directory","existsSync","readdirSync","length","console","error","log","templateRoot","__dirname","copy","err","exit"],"mappings":";;;;;;QAiBgBA,O,GAAAA,O;;AAThB;;IAAOC,I;;AACP;;IAAOC,E;;;;AATP;;;;;;;;AAUO,IAAMC,4BAAU,qBAAhB;;AAEA,IAAMC,sBAAO,sBAAb;;AAEA,IAAMC,4BAAU,EAAhB;;AAGA,SAASL,OAAT,CAAiBM,IAAjB,EAAuB;AAC1B,QAAIC,cAAcN,KAAKO,OAAL,CAAaC,QAAQC,GAAR,EAAb,EAA4BJ,KAAKK,SAAjC,CAAlB;AACA,QAAIT,GAAGU,UAAH,CAAcL,WAAd,KAA8BL,GAAGW,WAAH,CAAeN,WAAf,EAA4BO,MAA5B,GAAmC,CAArE,EAAwE;AACpE,eAAOC,QAAQC,KAAR,CAAc,8CAAd,CAAP;AACH;AACDD,YAAQE,GAAR,CAAY,6BAAZ,EAA2CV,WAA3C;AACA;AACA,QAAIW,eAAejB,KAAKO,OAAL,CAAaW,SAAb,EAAwB,0BAAxB,CAAnB;AACAjB,OAAGkB,IAAH,CAAQF,YAAR,EAAsBX,WAAtB,EAAmC,eAAO;AAClC,YAAIc,GAAJ,EAAS;AACLN,oBAAQC,KAAR,CAAc,wDAAd;AACAD,oBAAQC,KAAR,CAAcK,GAAd;AACA,mBAAOZ,QAAQa,IAAR,CAAa,CAAb,CAAP;AACH;AACDP,gBAAQE,GAAR,CAAY,sCAAZ;AACA,eAAOR,QAAQa,IAAR,CAAa,CAAb,CAAP;AACH,KARL;AAUH","file":"project.js","sourcesContent":["/**\n * @license\n * MOST Web Framework 2.0 Codename Blueshift\n * Copyright (c) 2017, THEMOST LP All rights reserved\n *\n * Use of this source code is governed by an BSD-3-Clause license that can be\n * found in the LICENSE file at https://themost.io/license\n */\nimport path from 'path';\nimport fs from 'fs-extra';\nexport const command = 'project <directory>';\n\nexport const desc = 'Create a new project';\n\nexport const builder = {\n};\n\nexport function handler(argv) {\n    let projectRoot = path.resolve(process.cwd(), argv.directory);\n    if (fs.existsSync(projectRoot) && fs.readdirSync(projectRoot).length>0) {\n        return console.error('ERROR: Project root directory must be empty.');\n    }\n    console.log('Creating new project  at %s', projectRoot);\n    //get template path\n    let templateRoot = path.resolve(__dirname, './../../../templates/api');\n    fs.copy(templateRoot, projectRoot, err => {\n            if (err) {\n                console.error('ERROR: An error occurred while generating new project.');\n                console.error(err);\n                return process.exit(1);\n            }\n            console.log('Operation was completed successfully');\n            return process.exit(0);\n        });\n    \n}"]}